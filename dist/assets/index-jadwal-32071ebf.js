import{_ as $,d as J,r as y,o as a,c as n,a as e,b as f,e as T,F as c,q as g,H as x,B as D,u as S,i as B,g as h,j as N,k as I,t as i,w as P,y as q,l as M,$ as j,p as R,n as A}from"./index-b7f4b6dc.js";import{c as O}from"./function-2d16a083.js";import"https://code.jquery.com/jquery-3.5.1.js";import"https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js";import"https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js";import"https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js";import"https://code.highcharts.com/highcharts.js";const V=J({components:{HomeNavbar:x,BackButton:D},data(){return{toggle:!0,toggleModeTabel:!1}},setup(){const t=S(),l=B("$http");let p=h([]),m=h([]),k=h([]),w=h([]);const b=async d=>{const s="/jadwalumum",r=await l.get(s);p.value=r.data.data.pagi,k.value=Math.max(...Object.values(p.value).map(u=>u.length)),m.value=r.data.data.sore,w.value=Math.max(...Object.values(m.value).map(u=>u.length)),j.success(d)};N(async()=>{b("Mendapatkan data jadwal")});const v=d=>{console.log(d),t.push({name:"jadwal-umum-ubah",query:d})},_=d=>{O("Apakah Anda yakin ingin menghapus data ini?","warning","#dc3545","yakin",o,d)},o=async({id_jadwal_umum:d})=>{const s=`/jadwalumum/${d}`;try{const r=await l.delete(s);j.success(r.data.message),b("Tabel Data Jadwal di update")}catch{j.warning("Gagal Menghapus Data")}};return{jadwalPagi:p,jadwalSore:m,maxPagi:k,maxSore:w,updateDataCell:v,confirmDelete:_}},computed:{displayedJadwal(){return this.toggle?this.jadwalPagi:this.jadwalSore},max(){return this.toggle?this.maxPagi:this.maxSore}}}),C=t=>(R("data-v-21b27402"),t=t(),A(),t),E={class:"content text-white p-5"},F=C(()=>e("h2",{class:""},"Jadwal",-1)),H={class:"class='container-fluid table-custom p-4 text-dark'"},U={class:"d-flex justify-content-between"},G={class:"table table-dark table-striped table-bordered table-hover mt-4 scrollme"},K={class:"text-white bg-dark text-center"},L=C(()=>e("th",null,"#",-1)),z={scope:"row",class:"text-white bg-dark text-center"},Q=["onClick"],W=["onClick"],X={class:"d-flex justify-content-between"};function Y(t,l,p,m,k,w){const b=y("home-navbar"),v=y("router-link"),_=y("back-button");return a(),n(c,null,[e("header",null,[f(b,{message:"Olah Jadwal Umum"})]),e("main",null,[e("div",E,[F,e("div",H,[e("div",U,[f(v,{type:"button",class:"btn btn-outline-dark",to:{name:"jadwal-umum-tambah"}},{default:T(()=>[I("Tambah Jadwal")]),_:1}),e("div",null,[t.toggle?(a(),n("button",{key:0,type:"button",class:"btn btn-outline-dark",onClick:l[0]||(l[0]=o=>t.toggle=!t.toggle)},"Jadwal Malam")):(a(),n("button",{key:1,type:"button",class:"btn btn-outline-dark",onClick:l[1]||(l[1]=o=>t.toggle=!t.toggle)},"Jadwal Pagi"))])]),e("table",G,[e("thead",null,[e("tr",K,[L,(a(!0),n(c,null,g(t.max,o=>(a(),n("th",{key:o},"Jadwal "+i(o),1))),128))])]),e("tbody",null,[(a(!0),n(c,null,g(t.displayedJadwal,(o,d)=>(a(),n("tr",{key:d},[e("th",z,i(d),1),(a(!0),n(c,null,g(o,(s,r)=>(a(),n("td",{key:r,class:"text-center"},[e("p",null," Jadwal : "+i(s.jam_mulai)+" - "+i(s.jam_selesai),1),e("p",null," Nama Kelas : "+i(s.kelas.jenis_kelas),1),e("p",null," Instruktur : "+i(s.instruktur.nama_instruktur),1),P(e("div",null,[e("button",{class:"btn btn-warning m-2",onClick:M(u=>t.updateDataCell(s),["prevent"])},"Update",8,Q),e("button",{class:"btn btn-danger",onClick:M(u=>t.confirmDelete(s),["prevent"])},"Delete",8,W)],512),[[q,t.toggleModeTabel]])]))),128)),(a(!0),n(c,null,g(t.max-o.length,s=>(a(),n("td",{key:s,class:"text-center"},"*"))),128))]))),128))])]),e("div",X,[e("div",null,[t.toggleModeTabel?(a(),n("button",{key:1,class:"btn btn-success",onClick:l[3]||(l[3]=o=>t.toggleModeTabel=!t.toggleModeTabel)},"Mode Tampil")):(a(),n("button",{key:0,class:"btn btn-primary",onClick:l[2]||(l[2]=o=>t.toggleModeTabel=!t.toggleModeTabel)},"Mode Edit"))]),f(_,{className:"btn btn-dark"})])])])])],64)}const dt=$(V,[["render",Y],["__scopeId","data-v-21b27402"]]);export{dt as default};
